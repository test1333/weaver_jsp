alter view v_peixun_list as
select b.id,c.lastname,c.workcode,d.field11,d.field10,d.field12,d.field2,f.departmentcode,f.departmentname,(select jobtitlename from HrmJobTitles where id=c.jobtitle) as jobtitlename,a.CourseList,(select TrainingCategory from uf_TrainingCategory where id=a.Trainingcategory) as Trainingcategory,LEFT(a.startdate,4) as year,a.startdate+' '+a.shi1 as starttime,a.finishdate+' '+a.shi2 as endtime,a.xs,a.Trainingcenter,b.certificate,(  select t3.selectname from workflow_billfield t1, workflow_bill t2,workflow_selectitem t3 where t1.billid=t2.id and t3.fieldid=t1.id  and t2.tablename='formtable_main_20' and t1.fieldname='Attendance' and t3.selectvalue=b.Attendance and t1.detailtable ='formtable_main_20_dt3') as Attendance,b.fei,a.Cost,c.id as pxry,a.startdate,a.finishdate,c.departmentid,(select nodename  from workflow_nodebase where id=e.currentnodeid)  as status
from formtable_main_20 a , formtable_main_20_dt3 b, hrmresource c , cus_fielddata d , workflow_requestbase e , HrmDepartment f 
where a.id=b.mainid and a.requestId=e.requestid and b.Name = c.id and c.id=d.id and c.departmentid=f.id and d.scopeid=-1
union all
select id+100000000 as id,'' as lastname,GH as workcode,FirstName as field11,LastName as field10,HTLX as field12,CBZX as field2,ZZDM as departmentcode,ZZMC as departmentname,ZW as jobtitlename,KCQD as CourseList,PEMU as Trainingcategory,PXNF as year,KSSJ as starttime,JSSJ as endtime,SC as xs,PXZX as Trainingcenter,'' as certificate, CYQK as Attendance, GRFY as fei , ZFY as Cost,pxry,LEFT(kssj,10) as startdate,LEFT(jssj,10) as finishdate,bm as departmentid, ZT as status  from uf_BTABLE